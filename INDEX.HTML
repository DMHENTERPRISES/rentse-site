<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RENT SE PROPERTIES | Indore</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        * { -webkit-tap-highlight-color: transparent; outline: none !important; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background-color: #fff; color: #000; overflow-x: hidden; width: 100%; margin: 0; }
        .hero-gradient { background: linear-gradient(180deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.4) 100%); }
        .reveal { opacity: 0; transform: translateY(30px); }
        .hidden-card { display: none !important; }
        .shimmer-link {
            background: linear-gradient(90deg, #888, #fff, #888);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer { to { background-position: 200% center; } }
        .wa-float {
            position: fixed; bottom: 30px; left: 30px; z-index: 1000;
            background: #25d366; color: white; width: 60px; height: 60px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 15px 35px rgba(37,211,102,0.4);
        }
        @media (min-width: 1024px) {
            .hero-heading { font-size: 5.5rem !important; line-height: 0.9 !important; margin-bottom: 40px !important; }
            .hero-content-wrapper { padding-top: 100px !important; }
            .search-container { max-width: 600px !important; }
        }
        @media (max-width: 768px) {
            .hero-heading { font-size: 2.2rem !important; line-height: 1.1 !important; margin-bottom: 25px !important; }
            .hero-content-wrapper { padding-top: 150px !important; }
            .top-nav-logo { font-size: 0.75rem !important; left: 15px !important; top: 25px !important; max-width: 40% !important;}
            .top-right-call { right: 15px !important; top: 18px !important; }
            .search-container { margin-top: 20px !important; }
        }
    </style>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body class="antialiased">

    <a href="https://wa.me/919098128523" target="_blank" class="wa-float hover:scale-110 transition duration-300">
        <svg class="w-8 h-8 fill-current" viewBox="0 0 24 24"><path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.182-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766 0-3.18-2.587-5.771-5.764-5.771zm3.392 8.244c-.144.405-.837.774-1.17.824-.299.045-.677.063-1.092-.069-.252-.08-.575-.187-.988-.365-1.739-.747-2.874-2.512-2.96-2.625-.087-.113-.708-.941-.708-1.797 0-.856.448-1.274.607-1.446.159-.171.348-.214.464-.214.116 0 .232.001.333.006.109.004.254-.042.398.302.145.348.493 1.203.536 1.29.043.087.072.188.014.304-.058.116-.087.188-.174.29-.087.101-.184.225-.262.302-.089.088-.182.183-.078.361.104.178.461.761.989 1.233.681.609 1.256.798 1.434.887.178.089.284.075.389-.047.105-.122.448-.522.569-.7.121-.178.242-.149.406-.089.164.06.1.48 1.347.142.062-.031.114.301.134.402.02.101.02.201-.124.606z"/></svg>
    </a>

    <section class="relative h-screen w-full flex items-center justify-center bg-black overflow-hidden">
        <div class="top-nav-logo absolute top-10 left-10 z-[100] flex items-center space-x-3">
            <img src="logo.png" alt="Logo" class="h-8 md:h-12 w-auto object-contain">
            <span class="text-white text-xl font-900 tracking-tighter uppercase leading-none">RENT SE PROPERTIES</span>
        </div>
        <video autoplay muted loop playsinline class="absolute w-full h-full object-cover opacity-80">
            <source src="hero.mp4" type="video/mp4">
        </video>
        <div class="hero-gradient absolute inset-0"></div>
        <div class="hero-content-wrapper relative z-10 text-center text-white px-6 w-full max-w-5xl">
            <h1 class="hero-heading text-6xl md:text-9xl font-900 tracking-tighter mb-8 leading-none reveal uppercase">Best Properties<br>In Indore</h1>
            <div class="reveal max-w-2xl mx-auto search-container">
                <div class="bg-white/10 backdrop-blur-2xl border border-white/20 p-2 rounded-full flex items-center shadow-2xl overflow-hidden">
                    <input type="text" id="mainSearch" placeholder="Search 'Nipania'..." class="bg-transparent flex-1 px-4 py-3 outline-none text-white text-lg w-full">
                    <button onclick="filterAndScroll()" class="bg-white text-black px-8 py-3 rounded-full font-black uppercase text-[11px] tracking-widest hover:bg-gray-200 transition">Search</button>
                </div>
            </div>
        </div>
    </section>

    <section id="properties" class="py-20 px-6 md:px-12 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-16 border-b border-black/5 pb-8">
                <h2 class="text-3xl md:text-6xl font-900 tracking-tighter uppercase reveal">All Properties</h2>
                <span id="propCount" class="text-[10px] font-black uppercase tracking-widest text-gray-400 reveal">Loading...</span>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10 md:gap-16" id="listingGrid"></div>
        </div>
    </section>

    <footer class="py-12 bg-black text-center border-t border-white/5 flex flex-col items-center space-y-6">
        <h2 class="text-white text-4xl font-900 tracking-tighter uppercase">RENT SE PROPERTIES</h2>
        <p class="text-white/40 text-xs uppercase tracking-widest">Near MAX Fashion, Gopur Square Indore | +91 9098128523</p>
        <a href="https://instagram.com/cityreach.in" class="shimmer-link text-[10px] uppercase tracking-[0.6em]">Website Designed by CITY REACH</a>
    </footer>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        async function loadProperties() {
            const grid = document.getElementById('listingGrid');
            const propCount = document.getElementById('propCount');
            
            try {
                // FIXED REPO PATH FOR KUSHALLXD
                const response = await fetch('https://api.github.com/repos/kushallxd/rentse-site/contents/properties?t=' + new Date().getTime());
                const files = await response.json();
                
                grid.innerHTML = '';
                let count = 0;

                for (const file of files) {
                    if (file.name.endsWith('.md')) {
                        const res = await fetch(file.download_url);
                        const text = await res.text();
                        
                        const title = (text.match(/title: "(.*)"/) || [null, "Property"])[1];
                        const price = (text.match(/price: "(.*)"/) || [null, "TBA"])[1];
                        const area = (text.match(/area: "(.*)"/) || [null, "Indore"])[1];
                        const image = (text.match(/image: "(.*)"/) || [null, "interior.png"])[1];

                        grid.innerHTML += `
                            <div class="prop-card reveal group cursor-pointer border p-6 hover:shadow-xl transition-all">
                                <div class="relative overflow-hidden aspect-[3/4] bg-gray-100 mb-6">
                                    <img src="${image}" class="w-full h-full object-cover group-hover:scale-105 transition duration-700">
                                </div>
                                <h4 class="text-2xl font-900 uppercase tracking-tighter text-black">${title}</h4>
                                <p class="text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-2">${area}, Indore</p>
                                <p class="text-2xl font-light mt-3 italic text-black">${price}</p>
                            </div>`;
                        count++;
                    }
                }
                propCount.innerText = `${count} Active Listings`;
                
                gsap.utils.toArray(".reveal").forEach((elem) => {
                    gsap.to(elem, { scrollTrigger: elem, opacity: 1, y: 0, duration: 1.2, ease: "power4.out" });
                });
            } catch (e) {
                propCount.innerText = "Check /admin for entries";
            }
        }

        loadProperties();

        function filterAndScroll() {
            const val = document.getElementById('mainSearch').value.toLowerCase().trim();
            const cards = document.querySelectorAll('.prop-card');
            cards.forEach(card => {
                const text = card.innerText.toLowerCase();
                card.style.display = (val === "" || text.includes(val)) ? "block" : "none";
            });
            document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
